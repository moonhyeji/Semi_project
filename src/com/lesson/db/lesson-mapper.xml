<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.lesson.mapper">
     <resultMap type="LessonDto" id="LessonMap">
         <result property="class_no" column="CLASS_NO"/>
         <result property="class_title" column="CLASS_TITLE"/>
         <result property="class_writer" column="CLASS_WRITER"/>
         <result property="class_content" column="CLASS_CONTENT"/>
         <result property="class_price" column="CLASS_PRICE"/>
         <result property="class_count" column="CLASS_COUNT"/>
         <result property="class_startdate" column="CLASS_STARTDATE"/>
         <result property="class_lastdate" column="CLASS_LASTDATE"/>
         <result property="class_tag" column="CLASS_TAG"/>
         <result property="class_eventcheck" column="CLASS_EVENTCHECK"/>
         <result property="class_eventprice" column="CLASS_EVENTPRICE"/>
         <result property="class_eventstartdate" column="CLASS_EVENTSTARTDATE"/>
         <result property="class_eventlastdate" column="CLASS_EVENTLASTDATE"/>
	</resultMap>
	
	    <select id="selectList" resultMap="LessonMap"> <!--  강의 리스트 -->
			  SELECT CLASS_NO, CLASS_TITLE, CLASS_WRITER, CLASS_CONTENT, CLASS_PRICE, CLASS_STARTDATE, CLASS_LASTDATE
		      FROM CLASS_BOARD
		      ORDER BY CLASS_NO DESC
		</select>
		
		<!-- select했을 때 강의 전체내용 -->
		<select id="selectOne" resultMap="LessonMap"> 
		  SELECT CLASS_TAG, CLASS_TITLE, CLASS_WRITER, CLASS_CONTENT, CLASS_PRICE, CLASS_COUNT, CLASS_STARTDATE,CLASS_LASTDATE
		  CLASS_EVENTCHECK, CLASS_EVENTPRICE, CLASS_EVENTSTARTDATE, CLASS_EVENTLASTDATE
		  FROM CLASS_BOARD
		</select>
		 
		 
		 <!--  강의 등록 -->
		<insert id="insert" parameterType="LessonDto">
	 	  INSERT INTO CLASS_BOARD
	 	  VALUES(CLASSBOARD_SEQ.NEXTVAL,#{class_title},#{class_writer},#{class_content},
	 	        #{class_price},#{class_count},#{class_startdate},#{class_lastdate}#{class_tag},#{class_eventcheck},
	 	        #{class_eventprice},#{class_eventstartdate},#{class_lastdate})
		</insert>
	  
	    <!-- 강의 수정  -->
	    <update id="update" parameterType="String" >
	    UPDATE CLASS_BOARD
	    SET 
	    WHERE CLASS_NO = #{class_no}
	    </update>
	    
	    
	    
		<delete id="delete" parameterType="LessonDto">
	      DELETE FROM CLASS_BOARD
	      WHERE CLASS_NO = #{class_no}
		</delete>
  
  </mapper>
  
  
  
  
  